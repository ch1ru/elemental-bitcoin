[/Intro](/index.md)|[/Install](/install.md)|[/keys](/keys.md)|[/Crypto](ecc.md)|[/Wallet](wallet.md)|[/Transactions](transactions.md)|[/Script](script.md)|[/Blocks](blocks.md)|[/Mining](/mining.md)|[/SPV](spv.md)|[/Segwit](segwit.md)

# Mining

This chapter will be about the main barrier of defense against attacks, ranging from double-spend attacks tricking merchants into giving away things for free, to nationstate actors trying to DOS the network. In this chapter we will look at the main purposes of bitcoin mining and how to code some basic operations for the proof-of-work algorithm.

## What 'Bitcoin mining' actually means

A lot of critics of bitcoin misunderstand the operation of bitcoin mining, claiming it is only an imitation of the real thing - gold mining. From the perspective of the gold bugs, mining gold has interesting incentives and characteristics that make the metal valuble as a monetary good. Firstly, gold is highly recognisable to the naked eye since it is an unreactive metal. There is no gold ore so it's usually found natively by itself. There are chemical tests using acids, and density tests using electromagnetic instruments or simply some scales and a measuring set to assay the veracity gold in question. Depite the ease of verifying gold, it's incredibly difficult to mine it, as enourmous amounts of energy need to be expended to dig up many tonnes of earth just to find a few ounces of gold. In other words, there is an assymmetry making it hard to produce, but easy to verify when it is found. The difficulty in mining makes it suitable as a monetary metal because it means there is a very low inflation rate (new coins coming into the circulation). Unlike other goods in an economy, money will always have a high demand (people always want more money!). Therefore, to have a low issuance rate due to the natural scarcity of gold doesn't give the miners an advantage in the gold-standard economy. Substituting gold for copper, miners would be able to more easiliy mine it due to its relative abundance, which would lead to the rapid inflation of the currency. In fact, historically there has never been an annual inflation of more than 2-3% of new gold compared to existing above-ground stockpiles. Of course, we no longer live on a gold standard. In some cases, including the author's native currency, money hasn't been backed by gold since the first World War, over a hundred years ago.

Despite advocates' attempts to lobby governments to return to a gold standard (which even if successful, wouldn't solve the limitations of gold in a globalised economy which was in part the reason for moving off the gold standard, the other being governments' increased desire to fund the first World War), bitcoin solves the problem in a different way. It takes the principles of gold mining and all the monetary benefits associated with it (low, unexpected inflation and a limit on government spending or other parties finding cheap ways to produce the currency, affecting the purchasing power) and combines it with the technologies of computer science - electronic, bit-bearing media that can be reproduced at zero cost and sent instantaneously around the world through networking technologies. Clearly reproducing digital photographs and music is useful, but not a feature for money - otherwise people can create new money at the click of a button! So mining is a bridge that connects these two ideas - the principles of gold mining which is the production of the currency at expensive cost, cheap verification, scarcity etc. and the reproduction of digital information at a non-zero cost. It combines the top-down principles of gold mining with the bottom-up emergent properties of the Interet in some kind of thermodynamic reality that creates a digital scarce money that can overcome the limitations gold had - namely it was too damn heavy to be useful in the ever-globalising economy. Banks, later central banks, tried to overcome this limitation by issuing promissary notes to actual gold (or fractionally reserved), the precursor to cash. Unfortunately the rug was pulled when the curency was no longer backed by gold, giving the central banks free reign to print more money to buy government debt, leading to huge government overeach, warefare spending and huge malinvestment in public spending projects (Maoist China being a good example).

By this point, hopefully you have an idea of how central mining is to the operation of bitcoin. Personally, I think the term 'mining' is a very apt one when applied to bitcoin's proof-of-work algorthm. We will see in a moment how difficult it is to dig up cryptographic 'dirt', but how easy it is to verify if what we have is indeed a correct solution which directly equates to reciving bitcoin as a miner reward. Mistakes can be made when performing acid tests on gold, we may have to rely on a third party to test the gold, custody the gold, there may be a hidden stockpile found which dilutes the gold saver's purchasing power. Bitcoin overcomes all these problems making it more than competent to recieve the title of 'digital gold'.

## Immutable and open ledger

In any financial system, the ability to verify that coins were sent and received is very important when conducting trade. In physical commerce, this is obvious since both parties know when coins and goods exchange hands. However it is still important to track transactions, for example if one party owes another, it is important to keep an account of the one sided payment and the IOU on the other side. In digital commerce, since there is no tangible object to exchange for a good, transaction history and verification becomes the **only** way to view exchange of money. The way this was solved initially is through a trusted intermediary - the bank. Later in the world of commerce there arose other financial intermediaries such as Paypal or ebay, but usually had some backend support by the banking sector. Unfortuanately, these intermediaries sometimes do not live up to their expectations as the trusted third-part they claim to be. If a bank claims some transaction never took place, then it never took place. Furthermore transactions are kept on a centralised database that can be changed at will and most importantly, the money never actually belongs to the account holder, but rather the bank. Funds can be fractionally reserved with risky ratios due to the fact that governments insure the bank against these failures (ironically this is sold to the tax-payer as insurance to protect the saver, but is unlikely to be much use against a systemic bank failure like that of a magnitude of the 2008 bank crisis).

The blockchain is an attempt to solve the challenges above. Every 10 minutes a group of transactions are grouped into a 'block'. Every block has an ID (or hash) which is calculated from the transactions of the block. The previous block hash is also used as an input for this calculation, which gets us the idea of a chain of blocks. The other important component for the hash calculation is a nonce - this is what the miner has to find! When the transaction, last block hash and nonce (plus some other stuff like timestamp and version) are hashed together with the sha256 hashing algorithm, it will produce a candidate hash. This is a correct solution if it falls below a certain value. 

For example: 

d04b98f48e8f8bcc15c6ae5ac050801cd6dcfd428fb5f9e65c4e16e7807340fa is an incorrect solution.

00000000000000000000ce25921dda0d6a6a5fa94fdf0ac11683304e45f24124 is a correct hash, because it has as many leading zeros as is necessary to be 'correct' in the difficulty period.

What do I mean by difficulty period? Well the difficulty can change depending on the global mining hashrate. The solution should be solved on average every 10 minutes. If more miners expend hashpower to solve the solution, the number of zeros required can increase (lowering the target range) and vice versa.



[/Intro](/index.md)|[/Install](/install.md)|[/keys](/keys.md)|[/Crypto](ecc.md)|[/Wallet](wallet.md)|[/Transactions](transactions.md)|[/Script](script.md)|[/Blocks](blocks.md)|[/Mining](/mining.md)|[/SPV](spv.md)|[/Segwit](segwit.md)
